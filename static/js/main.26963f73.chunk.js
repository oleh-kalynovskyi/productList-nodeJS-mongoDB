(this["webpackJsonpproduct-list-with-node"]=this["webpackJsonpproduct-list-with-node"]||[]).push([[0],{21:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){},33:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n(14),a=n.n(o),r=(n(21),n(9)),i=n(3),s=n(4),l=(n(22),n(2)),u=(n(23),n(0));function j(t){var e=t.close,n=Object(c.useState)({imageUrl:null,ProductName:null,Count:null,Width:null,Height:null,Weight:null,Comment:[]}),o=Object(s.a)(n,2),a=o[0],r=o[1];return Object(u.jsx)("div",{onClick:e,className:"AddItem-box",children:Object(u.jsx)("div",{className:"AddItem-wrapper",children:Object(u.jsxs)("form",{onClick:function(t){return t.stopPropagation()},className:"AddItem",onSubmit:function(t){t.preventDefault(),fetch("".concat("http://localhost:5000/","api/posts"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).catch((function(){return console.log("error")})),e()},children:[Object(u.jsx)("button",{onClick:e,children:"Close"}),Object(u.jsxs)("label",{children:["Img:",Object(u.jsx)("input",{autocomplete:"off",type:"text",name:"imageUrl",id:"",placeholder:"Img",onChange:function(t){return r(Object(l.a)(Object(l.a)({},a),{},{imageUrl:t.target.value}))}})]}),Object(u.jsxs)("label",{children:["Product name:",Object(u.jsx)("input",{autocomplete:"off",required:!0,type:"text",name:"ProductName",placeholder:"Product name",onChange:function(t){return r(Object(l.a)(Object(l.a)({},a),{},{ProductName:t.target.value}))}})]}),Object(u.jsxs)("label",{children:["Count:",Object(u.jsx)("input",{autocomplete:"off",required:!0,type:"number",name:"Count",placeholder:"Count",onChange:function(t){return r(Object(l.a)(Object(l.a)({},a),{},{Count:t.target.value}))}})]}),Object(u.jsxs)("label",{children:["Size:",Object(u.jsx)("input",{autocomplete:"off",name:"Width",type:"number",placeholder:"Width",onChange:function(t){return r(Object(l.a)(Object(l.a)({},a),{},{Width:t.target.value}))}}),Object(u.jsx)("input",{autocomplete:"off",name:"Height",type:"number",placeholder:"Height",onChange:function(t){return r(Object(l.a)(Object(l.a)({},a),{},{Height:t.target.value}))}})]}),Object(u.jsxs)("label",{children:["Weight:",Object(u.jsx)("input",{autocomplete:"off",name:"Weight",type:"number",id:"",placeholder:"Wight",onChange:function(t){return r(Object(l.a)(Object(l.a)({},a),{},{Weight:t.target.value}))}})]}),Object(u.jsx)("button",{children:"Add Product"})]})})})}function d(t){var e=t.close,n=t.removeID;return Object(u.jsx)("div",{onClick:e,className:"AddItem-box",children:Object(u.jsxs)("div",{onClick:function(t){return t.stopPropagation()},className:"AddItem-wrapper",style:{display:"flex",flexDirection:"column"},children:[Object(u.jsx)("span",{style:{marginBottom:"10px"},children:"Are You sure want remove this Item?"}),Object(u.jsx)("button",{style:{marginBottom:"10px",background:"#ff5757"},onClick:function(){return fetch("".concat("http://localhost:5000/","api/posts/")+n,{method:"delete"}).catch((function(){return console.log("error")})),void e()},children:"Yes"}),Object(u.jsx)("button",{onClick:e,children:"No"})]})})}function b(){var t=Object(c.useState)(!1),e=Object(s.a)(t,2),n=e[0],o=e[1],a=Object(c.useState)(!1),i=Object(s.a)(a,2),l=i[0],b=i[1],h=Object(c.useState)(""),m=Object(s.a)(h,2),O=m[0],p=m[1],f=Object(c.useState)(null),x=Object(s.a)(f,2),g=x[0],v=x[1],C=Object(c.useState)(null),y=Object(s.a)(C,2),N=y[0],P=y[1],S=Object(c.useState)([]),w=Object(s.a)(S,2),k=w[0],I=w[1];return Object(c.useEffect)((function(){fetch("".concat("http://localhost:5000/","api/posts")).then((function(t){return t.json()})).then((function(t){I(t)})).catch((function(){return console.log("error")}))}),[n,l]),Object(u.jsxs)("div",{className:"ProductsList",children:[Object(u.jsxs)("div",{className:"add-buttom",children:[Object(u.jsx)("button",{onClick:function(){return o(!0)},children:"Add new Product"}),Object(u.jsx)("button",{onClick:function(){!function(){try{var t=k.slice(0),e=k.slice(0);t.sort((function(t,e){return e.Count-t.Count})),e.sort((function(t,e){return t.Count-e.Count})),I(g?t:e)}catch(n){console.log(n)}}(),v(!g)},children:"Available Products"}),Object(u.jsx)("button",{onClick:function(){!function(){try{var t=k.slice(0),e=k.slice(0);t.sort((function(t,e){var n=t.ProductName.toLowerCase(),c=e.ProductName.toLowerCase();return n<c?-1:n>c?1:0})),e.sort((function(t,e){var n=t.ProductName.toLowerCase(),c=e.ProductName.toLowerCase();return n>c?-1:n<c?1:0})),I(N?e:t)}catch(n){console.log(n)}}(),P(!N)},children:"Sort by alphabet"})]}),Object(u.jsx)("div",{className:"ProductsList-wrapper",children:k&&k.map((function(t){return Object(u.jsxs)("div",{className:"ProductsList-item",children:[Object(u.jsxs)(r.b,{to:"/product/"+t._id,children:[Object(u.jsx)("div",{className:"ProductsList-item-img",children:Object(u.jsx)("img",{src:t.imageUrl||"https://bytes.ua/wp-content/uploads/2017/08/no-image.png",alt:"",width:"100%",height:"100%"})}),Object(u.jsxs)("div",{className:"ProductsList-item-info",children:[Object(u.jsxs)("span",{children:["Product: ",t.ProductName||"Soon will be add"]}),Object(u.jsxs)("span",{children:["Available: ",t.Count||"Soon will be add"]})]})]}),Object(u.jsx)("button",{onClick:function(){b(!0),p(t._id)},children:"X"})]},t._id)}))}),n?Object(u.jsx)(j,{close:function(){return o(!1)}}):null,l?Object(u.jsx)(d,{removeID:O,close:function(){return b(!1)}}):null]})}n(33);var h=n(8),m=n.n(h);n(35);function O(t){var e=t.comment,n=t.removeComments,c=new Date;return Object(u.jsx)("div",{className:"CommentList",children:e&&e.map((function(t){return Object(u.jsxs)("div",{className:"CommentList-wrappar",children:[Object(u.jsxs)("div",{className:"commentList-user",children:[Object(u.jsx)("img",{src:"https://lh3.googleusercontent.com/proxy/iyd3gvPMLct3V8mUDu2YUHKjds90-SVAyxgyZ4ix7W1bCNiC4yRmHOBPZCOv6oVvg-va3IFZzj_Ab-NxIainJBWbokJJg2PxLywm3w8l",alt:"",width:"20px",height:"20px"}),Object(u.jsx)("span",{style:{marginLeft:"10px"},children:"Your comment"}),Object(u.jsx)("span",{style:{marginLeft:"auto"},children:m()(t.date&&t.date).from(m()(c)._d)})]}),Object(u.jsxs)("div",{className:"commentList-text",children:[Object(u.jsx)("span",{children:t.description}),Object(u.jsx)("button",{onClick:function(){return n(t.id)},children:" X "})]})]},t.date)}))})}n(36);var p="http://localhost:5000/";function f(t){var e=t.idItem,n=Object(c.useState)({}),o=Object(s.a)(n,2),a=o[0],r=o[1];var i=Object(c.useState)(""),j=Object(s.a)(i,2),d=j[0],b=j[1],h=function(t){t.preventDefault(),t.target.reset(),d.Comment.push(a),fetch("".concat(p,"api/posts/"),{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(d)})},f=function(t){var e=d.Comment.filter((function(e){return e.id!==t}));d.Comment=e,fetch("".concat(p,"api/posts/"),{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(d)})};return Object(c.useEffect)((function(){fetch("".concat(p,"api/posts/")+e).then((function(t){return t.json()})).then((function(t){b(t)})).catch((function(){return console.log("error")}))}),[h,f]),Object(u.jsxs)("div",{className:"Comment",children:["Write Comment:",Object(u.jsxs)("form",{onSubmit:h,className:"comment-form",children:[Object(u.jsx)("textarea",{required:!0,cols:"50",rows:"5",name:"description",onChange:function(t){var n=t.target.value;r(Object(l.a)(Object(l.a)({},a),{},{id:Math.random(),productId:e,description:n,date:m()()._d}))}}),Object(u.jsx)("button",{children:"Send"})]}),Object(u.jsx)(O,{comment:d.Comment,removeComments:f})]})}n(37);var x="http://localhost:5000/";function g(t){var e=t.close,n=t.idItem,o=t.upDateInfo;Object(c.useEffect)((function(){fetch("".concat(x,"api/posts/")+n).then((function(t){return t.json()})).then((function(t){j(t)})).catch((function(){return console.log("error")}))}),[]);var a=Object(c.useState)(""),r=Object(s.a)(a,2),i=r[0],j=r[1];return Object(u.jsx)("div",{onClick:e,className:"Edit-box",children:Object(u.jsx)("div",{onClick:function(t){return t.stopPropagation()},className:"Edit-wrapper",children:Object(u.jsxs)("form",{className:"Edit",onSubmit:function(t){t.preventDefault(),fetch("".concat(x,"api/posts/"),{method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(i)}).then((function(t){return t.json()})).then((function(t){j(t)})),e(),o()},children:[Object(u.jsxs)("label",{children:["Img",Object(u.jsx)("input",{type:"text",value:i&&i.imageUrl,onChange:function(t){return j(Object(l.a)(Object(l.a)({},i),{},{imageUrl:t.target.value}))}})]}),Object(u.jsxs)("label",{children:["Product name",Object(u.jsx)("input",{type:"text",value:i&&i.ProductName,onChange:function(t){return j(Object(l.a)(Object(l.a)({},i),{},{ProductName:t.target.value}))}})]}),Object(u.jsxs)("label",{children:["Count",Object(u.jsx)("input",{type:"text",value:i&&i.Count,onChange:function(t){return j(Object(l.a)(Object(l.a)({},i),{},{Count:t.target.value}))}})]}),Object(u.jsxs)("label",{children:["Size",Object(u.jsx)("input",{type:"text",value:i&&i.Width,onChange:function(t){return j(Object(l.a)(Object(l.a)({},i),{},{Width:t.target.value}))}}),Object(u.jsx)("input",{type:"text",value:i&&i.Height,onChange:function(t){return j(Object(l.a)(Object(l.a)({},i),{},{Height:t.target.value}))}})]}),Object(u.jsxs)("label",{children:["Wight",Object(u.jsx)("input",{type:"text",value:i&&i.Weight,onChange:function(t){return j(Object(l.a)(Object(l.a)({},i),{},{Weight:t.target.value}))}})]}),Object(u.jsx)("button",{children:"Seve change"})]})})})}function v(t){var e=t.match.params.id,n=Object(c.useState)(""),o=Object(s.a)(n,2),a=o[0],r=o[1],i=Object(c.useState)(null),l=Object(s.a)(i,2),j=l[0],d=l[1],b=Object(c.useState)(null),h=Object(s.a)(b,2),m=h[0],O=h[1];return Object(c.useEffect)((function(){fetch("".concat("http://localhost:5000/","api/posts/")+e).then((function(t){return t.json()})).then((function(t){r(t)})).catch((function(){return console.log("error")}))}),[m]),Object(u.jsxs)("div",{className:"ProductItem",children:[Object(u.jsxs)("div",{className:"ProductItem-wrapper",children:[Object(u.jsx)("img",{src:a.imageUrl,alt:"",width:"300px"}),Object(u.jsxs)("div",{className:"item-info",children:[Object(u.jsxs)("span",{children:["Name: ",a.ProductName||"Soon will be add"]}),Object(u.jsxs)("span",{children:["Count: ",a.Count||"Soon will be add"]}),Object(u.jsxs)("span",{children:["Width: ",a.Width||"Soon will be add"]}),Object(u.jsxs)("span",{children:["Height: ",a.Height||"Soon will be add"]}),Object(u.jsxs)("span",{children:["Weight: ",a.Weight||"Soon will be add"]})]})]}),Object(u.jsx)("button",{onClick:function(){return d(!0)},children:"Edit"}),j?Object(u.jsx)(g,{upDateInfo:function(){return O(!m)},idItem:e,close:function(){return d(!1)}}):null,Object(u.jsx)(f,{idItem:e})]})}var C=function(){return Object(u.jsx)(r.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("header",{className:"header",children:Object(u.jsx)("a",{className:"header-title",href:"/product-list/",children:"Product List"})}),Object(u.jsx)("main",{children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/product-list/",component:b}),Object(u.jsx)(i.a,{path:"/product/:id",component:v})]})}),Object(u.jsx)("footer",{children:Object(u.jsxs)("div",{className:"foote-box",children:[Object(u.jsx)("h1",{children:" DEVELOPER: OLEH KALYNOVSKYI "}),Object(u.jsx)("a",{href:"mailto:oleh.kalynovskyi@gmail.com",children:"Contact me: oleh.kalynovskyi@gmail.com"}),Object(u.jsx)("a",{href:"https://github.com/oleh-kalynovskyi",children:"My portfolio on Github"})]})})]})})};a.a.render(Object(u.jsx)(C,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.26963f73.chunk.js.map